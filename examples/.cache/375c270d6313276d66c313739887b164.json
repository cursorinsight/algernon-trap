{"dependencies":[],"generated":{"js":"/* global module */\r\n\r\nvar WindowSizeHandler = function(window, state, buffer) {\r\n\"use strict\";\r\n// ---------------------------------------------------------------------------\r\n\r\nvar\r\n  delay = 1000 / 15, // 15fps\r\n  timeout,\r\n\r\n  handler = function(event) {\r\n    var\r\n      w  = window.innerWidth,\r\n      h  = window.innerHeight,\r\n      dT = state.getDT(event, 20);\r\n\r\n    // type = 0b1000\r\n    buffer.push([8, dT,  w,  h],\r\n                [4, 20, 15, 15]);\r\n  },\r\n\r\n  throttler = function(event) {\r\n    if (timeout) {\r\n      window.clearTimeout(timeout);\r\n    }\r\n\r\n    timeout = window.setTimeout(function() {\r\n      timeout = null;\r\n      handler(event);\r\n    }, delay);\r\n  };\r\n\r\nthis.start = function() {\r\n  state.wW = window.innerWidth;\r\n  state.wH = window.innerHeight;\r\n  window.addEventListener(\"resize\", throttler, false);\r\n};\r\n\r\nthis.stop = function() {\r\n  window.removeEventListener(\"resize\", throttler, false);\r\n};\r\n\r\n// ---------------------------------------------------------------------------\r\n};\r\n\r\nmodule.exports = WindowSizeHandler;\r\n"},"hash":"553b4d0ec941ff17dc92d0241757fc2b"}